Return-Path: <freedreno-bounces@lists.freedesktop.org>
X-Original-To: lists+freedreno@lfdr.de
Delivered-To: lists+freedreno@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 9F9253D7BA7
	for <lists+freedreno@lfdr.de>; Tue, 27 Jul 2021 19:07:51 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 358106EBA4;
	Tue, 27 Jul 2021 17:07:50 +0000 (UTC)
X-Original-To: freedreno@lists.freedesktop.org
Delivered-To: freedreno@lists.freedesktop.org
Received: from mail-pj1-x1036.google.com (mail-pj1-x1036.google.com
 [IPv6:2607:f8b0:4864:20::1036])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 8F98E6EB6B;
 Tue, 27 Jul 2021 17:07:48 +0000 (UTC)
Received: by mail-pj1-x1036.google.com with SMTP id b6so132666pji.4;
 Tue, 27 Jul 2021 10:07:48 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=uO2HYOoAAJy6NDFhObwqMaYdR8fEVEI5qdx4UYizLzE=;
 b=Ck5x1aBEemGn+JqFD9ar8IfK2SvYR52Jp1IDUsNzXvP46T5Tu9l6ZD3k5STjUKtqtI
 B0rgApyFf9rnN9uwZ/LrwyLfP/QPm3DL1jhFZt8BuFErAVe5gcwZDff4OhWQFIzQj6yy
 qMx4bNwzliSHnnUg2mUleHTivqlAP01BIC1UI3S/4uYBP6pBgmXJMs/keBODDPTjd0p4
 Jezdn1OXciipDsVeB2X3l2Y10BeEMNTbmDrVsbMDfnVlJTWvbK7LjMLeSrm+NcgBdo4G
 SQ9yZ+phVv6gGmAu0XIY8V9sjj/PB5nz3FvBSTZOgGCLEL1wZl+k08n/hxgB/XFxpvUY
 Ctlg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=uO2HYOoAAJy6NDFhObwqMaYdR8fEVEI5qdx4UYizLzE=;
 b=H4IEcBbZDhToY4rqJXhUdwZhi+rhAyHL54QG75by/7WigL1q5sSIqxdp+mTgYVGcik
 ctFpIPPIVPjbt71k8g43u7i953gmsbz0tgiDylLZNZwHQgAytJkTEFGt9HBip3cwedfq
 O992YAMloZbyHApH0V7NQKaLfh3jx8l2yan3XHUcA1Hyr480fc8YOftu48AmJBLku7DC
 wCDOVpwL6KZC3o3Ub7ncGfeBhbU7sw4Ry9zY6dnTKElDtP6zZHJ2UEDE7l8wPFp5P1al
 kCNAOyXkqtEpJZv4AaOEDyrBZC2cLhqAVSvsyFWhf5J3wkQKsrlRul4OhOyxO8oz2qzo
 Ahbg==
X-Gm-Message-State: AOAM530WZm5MMNg20+7C53mfLxSWBzjAzrx5a9C5Vd60mWtXYxStimI5
 pPQv0pz2cSWbeok7nsyzmqr4LsT3n9cQJhlZ
X-Google-Smtp-Source: ABdhPJwfyYweNdYHOk6J5RSmFPv7xNBIUJn1zSYbEq7wCX0Vq2lGAyrkMYTf4+123qUJlBMUaPXMfg==
X-Received: by 2002:a62:7c16:0:b029:329:8d4c:d12d with SMTP id
 x22-20020a627c160000b02903298d4cd12dmr24236612pfc.47.1627405667562; 
 Tue, 27 Jul 2021 10:07:47 -0700 (PDT)
Received: from localhost ([2601:1c0:5200:a6:307:a401:7b76:c6e5])
 by smtp.gmail.com with ESMTPSA id g5sm4122306pfj.212.2021.07.27.10.07.46
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Tue, 27 Jul 2021 10:07:46 -0700 (PDT)
From: Rob Clark <robdclark@gmail.com>
To: dri-devel@lists.freedesktop.org
Date: Tue, 27 Jul 2021 10:11:19 -0700
Message-Id: <20210727171143.2549475-4-robdclark@gmail.com>
X-Mailer: git-send-email 2.31.1
In-Reply-To: <20210727171143.2549475-1-robdclark@gmail.com>
References: <20210727171143.2549475-1-robdclark@gmail.com>
MIME-Version: 1.0
Subject: [Freedreno] [PATCH v3 03/13] drm/msm: drop
 drm_gem_object_put_locked()
X-BeenThere: freedreno@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Freedreno graphics driver community testing & development
 <freedreno.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/freedreno>,
 <mailto:freedreno-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/freedreno>
List-Post: <mailto:freedreno@lists.freedesktop.org>
List-Help: <mailto:freedreno-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/freedreno>,
 <mailto:freedreno-request@lists.freedesktop.org?subject=subscribe>
Cc: David Airlie <airlied@linux.ie>,
 Konrad Dybcio <konrad.dybcio@somainline.org>,
 Akhil P Oommen <akhilpo@codeaurora.org>,
 Jordan Crouse <jordan@cosmicpenguin.net>, Eric Anholt <eric@anholt.net>,
 AngeloGioacchino Del Regno <angelogioacchino.delregno@somainline.org>,
 Marijn Suijten <marijn.suijten@somainline.org>,
 Lee Jones <lee.jones@linaro.org>, Rob Clark <robdclark@chromium.org>,
 Sai Prakash Ranjan <saiprakash.ranjan@codeaurora.org>,
 Jonathan Marek <jonathan@marek.ca>, Bernard Zhao <bernard@vivo.com>,
 Rob Clark <robdclark@gmail.com>,
 "open list:DRM DRIVER FOR MSM ADRENO GPU" <linux-arm-msm@vger.kernel.org>,
 Sharat Masetty <smasetty@codeaurora.org>, Sean Paul <sean@poorly.run>,
 Douglas Anderson <dianders@chromium.org>,
 open list <linux-kernel@vger.kernel.org>,
 Zhenzhong Duan <zhenzhong.duan@gmail.com>,
 "Kristian H. Kristensen" <hoegsberg@google.com>,
 Daniel Vetter <daniel@ffwll.ch>,
 "open list:DRM DRIVER FOR MSM ADRENO GPU" <freedreno@lists.freedesktop.org>,
 =?UTF-8?q?Christian=20K=C3=B6nig?= <christian.koenig@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: freedreno-bounces@lists.freedesktop.org
Sender: "Freedreno" <freedreno-bounces@lists.freedesktop.org>

RnJvbTogUm9iIENsYXJrIDxyb2JkY2xhcmtAY2hyb21pdW0ub3JnPgoKTm8gaWRlYSB3aHkgd2Ug
d2VyZSBzdGlsbCB1c2luZyB0aGlzLiAgSXQgY2VydGFpbmx5IGhhc24ndCBiZWVuIG5lZWRlZApm
b3Igc29tZSB0aW1lLiAgU28gZHJvcCB0aGUgcG9pbnRsZXNzIHR3aW4gY29kZXBhdGhzLgoKU2ln
bmVkLW9mZi1ieTogUm9iIENsYXJrIDxyb2JkY2xhcmtAY2hyb21pdW0ub3JnPgpBY2tlZC1ieTog
Q2hyaXN0aWFuIEvDtm5pZyA8Y2hyaXN0aWFuLmtvZW5pZ0BhbWQuY29tPgotLS0KIGRyaXZlcnMv
Z3B1L2RybS9tc20vYWRyZW5vL2E1eHhfZGVidWdmcy5jICAgfCAgNCArLQogZHJpdmVycy9ncHUv
ZHJtL21zbS9hZHJlbm8vYTV4eF9ncHUuYyAgICAgICB8ICA2ICstLQogZHJpdmVycy9ncHUvZHJt
L21zbS9hZHJlbm8vYTV4eF9wb3dlci5jICAgICB8ICAyICstCiBkcml2ZXJzL2dwdS9kcm0vbXNt
L2FkcmVuby9hNXh4X3ByZWVtcHQuYyAgIHwgIDcgKystCiBkcml2ZXJzL2dwdS9kcm0vbXNtL2Fk
cmVuby9hNnh4X2dtdS5jICAgICAgIHwgMTIgKystLS0KIGRyaXZlcnMvZ3B1L2RybS9tc20vYWRy
ZW5vL2E2eHhfZ3B1LmMgICAgICAgfCAgMiArLQogZHJpdmVycy9ncHUvZHJtL21zbS9hZHJlbm8v
YTZ4eF9ncHVfc3RhdGUuYyB8ICA0ICstCiBkcml2ZXJzL2dwdS9kcm0vbXNtL2FkcmVuby9hZHJl
bm9fZ3B1LmMgICAgIHwgIDIgKy0KIGRyaXZlcnMvZ3B1L2RybS9tc20vbXNtX2dlbS5jICAgICAg
ICAgICAgICAgfCA1NiArKysrLS0tLS0tLS0tLS0tLS0tLS0KIGRyaXZlcnMvZ3B1L2RybS9tc20v
bXNtX2dlbS5oICAgICAgICAgICAgICAgfCAgNyArLS0KIGRyaXZlcnMvZ3B1L2RybS9tc20vbXNt
X2dlbV9zdWJtaXQuYyAgICAgICAgfCAgMiArLQogZHJpdmVycy9ncHUvZHJtL21zbS9tc21fZ3B1
LmMgICAgICAgICAgICAgICB8ICA0ICstCiBkcml2ZXJzL2dwdS9kcm0vbXNtL21zbV9yaW5nYnVm
ZmVyLmMgICAgICAgIHwgIDIgKy0KIDEzIGZpbGVzIGNoYW5nZWQsIDMzIGluc2VydGlvbnMoKyks
IDc3IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9tc20vYWRyZW5v
L2E1eHhfZGVidWdmcy5jIGIvZHJpdmVycy9ncHUvZHJtL21zbS9hZHJlbm8vYTV4eF9kZWJ1Z2Zz
LmMKaW5kZXggZmMyYzkwNWI2YzllLi5jOWQxMWQ1N2FlZDYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9tc20vYWRyZW5vL2E1eHhfZGVidWdmcy5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9t
c20vYWRyZW5vL2E1eHhfZGVidWdmcy5jCkBAIC0xMTcsMTMgKzExNywxMyBAQCByZXNldF9zZXQo
dm9pZCAqZGF0YSwgdTY0IHZhbCkKIAogCWlmIChhNXh4X2dwdS0+cG00X2JvKSB7CiAJCW1zbV9n
ZW1fdW5waW5faW92YShhNXh4X2dwdS0+cG00X2JvLCBncHUtPmFzcGFjZSk7Ci0JCWRybV9nZW1f
b2JqZWN0X3B1dF9sb2NrZWQoYTV4eF9ncHUtPnBtNF9ibyk7CisJCWRybV9nZW1fb2JqZWN0X3B1
dChhNXh4X2dwdS0+cG00X2JvKTsKIAkJYTV4eF9ncHUtPnBtNF9ibyA9IE5VTEw7CiAJfQogCiAJ
aWYgKGE1eHhfZ3B1LT5wZnBfYm8pIHsKIAkJbXNtX2dlbV91bnBpbl9pb3ZhKGE1eHhfZ3B1LT5w
ZnBfYm8sIGdwdS0+YXNwYWNlKTsKLQkJZHJtX2dlbV9vYmplY3RfcHV0X2xvY2tlZChhNXh4X2dw
dS0+cGZwX2JvKTsKKwkJZHJtX2dlbV9vYmplY3RfcHV0KGE1eHhfZ3B1LT5wZnBfYm8pOwogCQlh
NXh4X2dwdS0+cGZwX2JvID0gTlVMTDsKIAl9CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9tc20vYWRyZW5vL2E1eHhfZ3B1LmMgYi9kcml2ZXJzL2dwdS9kcm0vbXNtL2FkcmVuby9hNXh4
X2dwdS5jCmluZGV4IDdhMjcxZGU5YTIxMi4uMGE5M2VkMWQ2YjA2IDEwMDY0NAotLS0gYS9kcml2
ZXJzL2dwdS9kcm0vbXNtL2FkcmVuby9hNXh4X2dwdS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9t
c20vYWRyZW5vL2E1eHhfZ3B1LmMKQEAgLTE0MTUsNyArMTQxNSw3IEBAIHN0cnVjdCBhNXh4X2dw
dV9zdGF0ZSB7CiBzdGF0aWMgaW50IGE1eHhfY3Jhc2hkdW1wZXJfaW5pdChzdHJ1Y3QgbXNtX2dw
dSAqZ3B1LAogCQlzdHJ1Y3QgYTV4eF9jcmFzaGR1bXBlciAqZHVtcGVyKQogewotCWR1bXBlci0+
cHRyID0gbXNtX2dlbV9rZXJuZWxfbmV3X2xvY2tlZChncHUtPmRldiwKKwlkdW1wZXItPnB0ciA9
IG1zbV9nZW1fa2VybmVsX25ldyhncHUtPmRldiwKIAkJU1pfMU0sIE1TTV9CT19XQywgZ3B1LT5h
c3BhY2UsCiAJCSZkdW1wZXItPmJvLCAmZHVtcGVyLT5pb3ZhKTsKIApAQCAtMTUxNyw3ICsxNTE3
LDcgQEAgc3RhdGljIHZvaWQgYTV4eF9ncHVfc3RhdGVfZ2V0X2hsc3FfcmVncyhzdHJ1Y3QgbXNt
X2dwdSAqZ3B1LAogCiAJaWYgKGE1eHhfY3Jhc2hkdW1wZXJfcnVuKGdwdSwgJmR1bXBlcikpIHsK
IAkJa2ZyZWUoYTV4eF9zdGF0ZS0+aGxzcXJlZ3MpOwotCQltc21fZ2VtX2tlcm5lbF9wdXQoZHVt
cGVyLmJvLCBncHUtPmFzcGFjZSwgdHJ1ZSk7CisJCW1zbV9nZW1fa2VybmVsX3B1dChkdW1wZXIu
Ym8sIGdwdS0+YXNwYWNlKTsKIAkJcmV0dXJuOwogCX0KIApAQCAtMTUyNSw3ICsxNTI1LDcgQEAg
c3RhdGljIHZvaWQgYTV4eF9ncHVfc3RhdGVfZ2V0X2hsc3FfcmVncyhzdHJ1Y3QgbXNtX2dwdSAq
Z3B1LAogCW1lbWNweShhNXh4X3N0YXRlLT5obHNxcmVncywgZHVtcGVyLnB0ciArICgyNTYgKiBT
Wl8xSyksCiAJCWNvdW50ICogc2l6ZW9mKHUzMikpOwogCi0JbXNtX2dlbV9rZXJuZWxfcHV0KGR1
bXBlci5ibywgZ3B1LT5hc3BhY2UsIHRydWUpOworCW1zbV9nZW1fa2VybmVsX3B1dChkdW1wZXIu
Ym8sIGdwdS0+YXNwYWNlKTsKIH0KIAogc3RhdGljIHN0cnVjdCBtc21fZ3B1X3N0YXRlICphNXh4
X2dwdV9zdGF0ZV9nZXQoc3RydWN0IG1zbV9ncHUgKmdwdSkKZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9tc20vYWRyZW5vL2E1eHhfcG93ZXIuYyBiL2RyaXZlcnMvZ3B1L2RybS9tc20vYWRy
ZW5vL2E1eHhfcG93ZXIuYwppbmRleCBjZGIxNjUyMzZhODguLjBlNjNhMTQyOTE4OSAxMDA2NDQK
LS0tIGEvZHJpdmVycy9ncHUvZHJtL21zbS9hZHJlbm8vYTV4eF9wb3dlci5jCisrKyBiL2RyaXZl
cnMvZ3B1L2RybS9tc20vYWRyZW5vL2E1eHhfcG93ZXIuYwpAQCAtMzYyLDcgKzM2Miw3IEBAIHZv
aWQgYTV4eF9ncG11X3Vjb2RlX2luaXQoc3RydWN0IG1zbV9ncHUgKmdwdSkKIAkgKi8KIAlib3Np
emUgPSAoY21kc19zaXplICsgKGNtZHNfc2l6ZSAvIFRZUEU0X01BWF9QQVlMT0FEKSArIDEpIDw8
IDI7CiAKLQlwdHIgPSBtc21fZ2VtX2tlcm5lbF9uZXdfbG9ja2VkKGRybSwgYm9zaXplLAorCXB0
ciA9IG1zbV9nZW1fa2VybmVsX25ldyhkcm0sIGJvc2l6ZSwKIAkJTVNNX0JPX1dDIHwgTVNNX0JP
X0dQVV9SRUFET05MWSwgZ3B1LT5hc3BhY2UsCiAJCSZhNXh4X2dwdS0+Z3BtdV9ibywgJmE1eHhf
Z3B1LT5ncG11X2lvdmEpOwogCWlmIChJU19FUlIocHRyKSkKZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9tc20vYWRyZW5vL2E1eHhfcHJlZW1wdC5jIGIvZHJpdmVycy9ncHUvZHJtL21zbS9h
ZHJlbm8vYTV4eF9wcmVlbXB0LmMKaW5kZXggZWU3MjUxMGZmOGNlLi44YWJjOWEyYjExNGEgMTAw
NjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9tc20vYWRyZW5vL2E1eHhfcHJlZW1wdC5jCisrKyBi
L2RyaXZlcnMvZ3B1L2RybS9tc20vYWRyZW5vL2E1eHhfcHJlZW1wdC5jCkBAIC0yNDAsNyArMjQw
LDcgQEAgc3RhdGljIGludCBwcmVlbXB0X2luaXRfcmluZyhzdHJ1Y3QgYTV4eF9ncHUgKmE1eHhf
Z3B1LAogCQlBNVhYX1BSRUVNUFRfQ09VTlRFUl9TSVpFLAogCQlNU01fQk9fV0MsIGdwdS0+YXNw
YWNlLCAmY291bnRlcnNfYm8sICZjb3VudGVyc19pb3ZhKTsKIAlpZiAoSVNfRVJSKGNvdW50ZXJz
KSkgewotCQltc21fZ2VtX2tlcm5lbF9wdXQoYm8sIGdwdS0+YXNwYWNlLCB0cnVlKTsKKwkJbXNt
X2dlbV9rZXJuZWxfcHV0KGJvLCBncHUtPmFzcGFjZSk7CiAJCXJldHVybiBQVFJfRVJSKGNvdW50
ZXJzKTsKIAl9CiAKQEAgLTI3Miw5ICsyNzIsOCBAQCB2b2lkIGE1eHhfcHJlZW1wdF9maW5pKHN0
cnVjdCBtc21fZ3B1ICpncHUpCiAJaW50IGk7CiAKIAlmb3IgKGkgPSAwOyBpIDwgZ3B1LT5ucl9y
aW5nczsgaSsrKSB7Ci0JCW1zbV9nZW1fa2VybmVsX3B1dChhNXh4X2dwdS0+cHJlZW1wdF9ib1tp
XSwgZ3B1LT5hc3BhY2UsIHRydWUpOwotCQltc21fZ2VtX2tlcm5lbF9wdXQoYTV4eF9ncHUtPnBy
ZWVtcHRfY291bnRlcnNfYm9baV0sCi0JCQlncHUtPmFzcGFjZSwgdHJ1ZSk7CisJCW1zbV9nZW1f
a2VybmVsX3B1dChhNXh4X2dwdS0+cHJlZW1wdF9ib1tpXSwgZ3B1LT5hc3BhY2UpOworCQltc21f
Z2VtX2tlcm5lbF9wdXQoYTV4eF9ncHUtPnByZWVtcHRfY291bnRlcnNfYm9baV0sIGdwdS0+YXNw
YWNlKTsKIAl9CiB9CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9tc20vYWRyZW5vL2E2
eHhfZ211LmMgYi9kcml2ZXJzL2dwdS9kcm0vbXNtL2FkcmVuby9hNnh4X2dtdS5jCmluZGV4IGIz
NDk2OTIyMTliNy4uZDdjZWM3ZjBkZGUwIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vbXNt
L2FkcmVuby9hNnh4X2dtdS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9tc20vYWRyZW5vL2E2eHhf
Z211LmMKQEAgLTExMjksMTIgKzExMjksMTIgQEAgaW50IGE2eHhfZ211X3N0b3Aoc3RydWN0IGE2
eHhfZ3B1ICphNnh4X2dwdSkKIAogc3RhdGljIHZvaWQgYTZ4eF9nbXVfbWVtb3J5X2ZyZWUoc3Ry
dWN0IGE2eHhfZ211ICpnbXUpCiB7Ci0JbXNtX2dlbV9rZXJuZWxfcHV0KGdtdS0+aGZpLm9iaiwg
Z211LT5hc3BhY2UsIGZhbHNlKTsKLQltc21fZ2VtX2tlcm5lbF9wdXQoZ211LT5kZWJ1Zy5vYmos
IGdtdS0+YXNwYWNlLCBmYWxzZSk7Ci0JbXNtX2dlbV9rZXJuZWxfcHV0KGdtdS0+aWNhY2hlLm9i
aiwgZ211LT5hc3BhY2UsIGZhbHNlKTsKLQltc21fZ2VtX2tlcm5lbF9wdXQoZ211LT5kY2FjaGUu
b2JqLCBnbXUtPmFzcGFjZSwgZmFsc2UpOwotCW1zbV9nZW1fa2VybmVsX3B1dChnbXUtPmR1bW15
Lm9iaiwgZ211LT5hc3BhY2UsIGZhbHNlKTsKLQltc21fZ2VtX2tlcm5lbF9wdXQoZ211LT5sb2cu
b2JqLCBnbXUtPmFzcGFjZSwgZmFsc2UpOworCW1zbV9nZW1fa2VybmVsX3B1dChnbXUtPmhmaS5v
YmosIGdtdS0+YXNwYWNlKTsKKwltc21fZ2VtX2tlcm5lbF9wdXQoZ211LT5kZWJ1Zy5vYmosIGdt
dS0+YXNwYWNlKTsKKwltc21fZ2VtX2tlcm5lbF9wdXQoZ211LT5pY2FjaGUub2JqLCBnbXUtPmFz
cGFjZSk7CisJbXNtX2dlbV9rZXJuZWxfcHV0KGdtdS0+ZGNhY2hlLm9iaiwgZ211LT5hc3BhY2Up
OworCW1zbV9nZW1fa2VybmVsX3B1dChnbXUtPmR1bW15Lm9iaiwgZ211LT5hc3BhY2UpOworCW1z
bV9nZW1fa2VybmVsX3B1dChnbXUtPmxvZy5vYmosIGdtdS0+YXNwYWNlKTsKIAogCWdtdS0+YXNw
YWNlLT5tbXUtPmZ1bmNzLT5kZXRhY2goZ211LT5hc3BhY2UtPm1tdSk7CiAJbXNtX2dlbV9hZGRy
ZXNzX3NwYWNlX3B1dChnbXUtPmFzcGFjZSk7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
bXNtL2FkcmVuby9hNnh4X2dwdS5jIGIvZHJpdmVycy9ncHUvZHJtL21zbS9hZHJlbm8vYTZ4eF9n
cHUuYwppbmRleCA5MWY2MzdiOTA4ZjQuLjU1ZWExMzZiODkzMyAxMDA2NDQKLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL21zbS9hZHJlbm8vYTZ4eF9ncHUuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vbXNt
L2FkcmVuby9hNnh4X2dwdS5jCkBAIC0xMDM1LDcgKzEwMzUsNyBAQCBzdGF0aWMgaW50IGE2eHhf
aHdfaW5pdChzdHJ1Y3QgbXNtX2dwdSAqZ3B1KQogCiAJaWYgKGFkcmVub19ncHUtPmJhc2UuaHdf
YXByaXYgfHwgYTZ4eF9ncHUtPmhhc193aGVyZWFtaSkgewogCQlpZiAoIWE2eHhfZ3B1LT5zaGFk
b3dfYm8pIHsKLQkJCWE2eHhfZ3B1LT5zaGFkb3cgPSBtc21fZ2VtX2tlcm5lbF9uZXdfbG9ja2Vk
KGdwdS0+ZGV2LAorCQkJYTZ4eF9ncHUtPnNoYWRvdyA9IG1zbV9nZW1fa2VybmVsX25ldyhncHUt
PmRldiwKIAkJCQlzaXplb2YodTMyKSAqIGdwdS0+bnJfcmluZ3MsCiAJCQkJTVNNX0JPX1dDIHwg
TVNNX0JPX01BUF9QUklWLAogCQkJCWdwdS0+YXNwYWNlLCAmYTZ4eF9ncHUtPnNoYWRvd19ibywK
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9tc20vYWRyZW5vL2E2eHhfZ3B1X3N0YXRlLmMg
Yi9kcml2ZXJzL2dwdS9kcm0vbXNtL2FkcmVuby9hNnh4X2dwdV9zdGF0ZS5jCmluZGV4IGFkNGVh
MGVkNWQ5OS4uZThmNjVjZDhlY2E2IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vbXNtL2Fk
cmVuby9hNnh4X2dwdV9zdGF0ZS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9tc20vYWRyZW5vL2E2
eHhfZ3B1X3N0YXRlLmMKQEAgLTExMiw3ICsxMTIsNyBAQCBzdGF0aWMgdm9pZCAqc3RhdGVfa21l
bWR1cChzdHJ1Y3QgYTZ4eF9ncHVfc3RhdGUgKmE2eHhfc3RhdGUsIHZvaWQgKnNyYywKIHN0YXRp
YyBpbnQgYTZ4eF9jcmFzaGR1bXBlcl9pbml0KHN0cnVjdCBtc21fZ3B1ICpncHUsCiAJCXN0cnVj
dCBhNnh4X2NyYXNoZHVtcGVyICpkdW1wZXIpCiB7Ci0JZHVtcGVyLT5wdHIgPSBtc21fZ2VtX2tl
cm5lbF9uZXdfbG9ja2VkKGdwdS0+ZGV2LAorCWR1bXBlci0+cHRyID0gbXNtX2dlbV9rZXJuZWxf
bmV3KGdwdS0+ZGV2LAogCQlTWl8xTSwgTVNNX0JPX1dDLCBncHUtPmFzcGFjZSwKIAkJJmR1bXBl
ci0+Ym8sICZkdW1wZXItPmlvdmEpOwogCkBAIC05NjEsNyArOTYxLDcgQEAgc3RydWN0IG1zbV9n
cHVfc3RhdGUgKmE2eHhfZ3B1X3N0YXRlX2dldChzdHJ1Y3QgbXNtX2dwdSAqZ3B1KQogCQlhNnh4
X2dldF9jbHVzdGVycyhncHUsIGE2eHhfc3RhdGUsIGR1bXBlcik7CiAJCWE2eHhfZ2V0X2RiZ2Fo
Yl9jbHVzdGVycyhncHUsIGE2eHhfc3RhdGUsIGR1bXBlcik7CiAKLQkJbXNtX2dlbV9rZXJuZWxf
cHV0KGR1bXBlci0+Ym8sIGdwdS0+YXNwYWNlLCB0cnVlKTsKKwkJbXNtX2dlbV9rZXJuZWxfcHV0
KGR1bXBlci0+Ym8sIGdwdS0+YXNwYWNlKTsKIAl9CiAKIAlpZiAoc25hcHNob3RfZGVidWdidXMp
CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vbXNtL2FkcmVuby9hZHJlbm9fZ3B1LmMgYi9k
cml2ZXJzL2dwdS9kcm0vbXNtL2FkcmVuby9hZHJlbm9fZ3B1LmMKaW5kZXggOWY1YTMwMjM0YjMz
Li5iYWQ0ODA5YjY4ZWYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9tc20vYWRyZW5vL2Fk
cmVub19ncHUuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vbXNtL2FkcmVuby9hZHJlbm9fZ3B1LmMK
QEAgLTM5MCw3ICszOTAsNyBAQCBzdHJ1Y3QgZHJtX2dlbV9vYmplY3QgKmFkcmVub19md19jcmVh
dGVfYm8oc3RydWN0IG1zbV9ncHUgKmdwdSwKIAlzdHJ1Y3QgZHJtX2dlbV9vYmplY3QgKmJvOwog
CXZvaWQgKnB0cjsKIAotCXB0ciA9IG1zbV9nZW1fa2VybmVsX25ld19sb2NrZWQoZ3B1LT5kZXYs
IGZ3LT5zaXplIC0gNCwKKwlwdHIgPSBtc21fZ2VtX2tlcm5lbF9uZXcoZ3B1LT5kZXYsIGZ3LT5z
aXplIC0gNCwKIAkJTVNNX0JPX1dDIHwgTVNNX0JPX0dQVV9SRUFET05MWSwgZ3B1LT5hc3BhY2Us
ICZibywgaW92YSk7CiAKIAlpZiAoSVNfRVJSKHB0cikpCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dw
dS9kcm0vbXNtL21zbV9nZW0uYyBiL2RyaXZlcnMvZ3B1L2RybS9tc20vbXNtX2dlbS5jCmluZGV4
IDViNjY1ZWQ4YTYwNS4uNGU5OWM0NDhiODNhIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0v
bXNtL21zbV9nZW0uYworKysgYi9kcml2ZXJzL2dwdS9kcm0vbXNtL21zbV9nZW0uYwpAQCAtMTA2
NCw3ICsxMDY0LDcgQEAgdm9pZCBtc21fZ2VtX2Rlc2NyaWJlX29iamVjdHMoc3RydWN0IGxpc3Rf
aGVhZCAqbGlzdCwgc3RydWN0IHNlcV9maWxlICptKQogfQogI2VuZGlmCiAKLS8qIGRvbid0IGNh
bGwgZGlyZWN0bHkhICBVc2UgZHJtX2dlbV9vYmplY3RfcHV0X2xvY2tlZCgpIGFuZCBmcmllbmRz
ICovCisvKiBkb24ndCBjYWxsIGRpcmVjdGx5ISAgVXNlIGRybV9nZW1fb2JqZWN0X3B1dCgpICov
CiB2b2lkIG1zbV9nZW1fZnJlZV9vYmplY3Qoc3RydWN0IGRybV9nZW1fb2JqZWN0ICpvYmopCiB7
CiAJc3RydWN0IG1zbV9nZW1fb2JqZWN0ICptc21fb2JqID0gdG9fbXNtX2JvKG9iaik7CkBAIC0x
MTk1LDggKzExOTUsNyBAQCBzdGF0aWMgaW50IG1zbV9nZW1fbmV3X2ltcGwoc3RydWN0IGRybV9k
ZXZpY2UgKmRldiwKIAlyZXR1cm4gMDsKIH0KIAotc3RhdGljIHN0cnVjdCBkcm1fZ2VtX29iamVj
dCAqX21zbV9nZW1fbmV3KHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsCi0JCXVpbnQzMl90IHNpemUs
IHVpbnQzMl90IGZsYWdzLCBib29sIHN0cnVjdF9tdXRleF9sb2NrZWQpCitzdHJ1Y3QgZHJtX2dl
bV9vYmplY3QgKm1zbV9nZW1fbmV3KHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsIHVpbnQzMl90IHNp
emUsIHVpbnQzMl90IGZsYWdzKQogewogCXN0cnVjdCBtc21fZHJtX3ByaXZhdGUgKnByaXYgPSBk
ZXYtPmRldl9wcml2YXRlOwogCXN0cnVjdCBtc21fZ2VtX29iamVjdCAqbXNtX29iajsKQEAgLTEy
ODMsMjYgKzEyODIsMTAgQEAgc3RhdGljIHN0cnVjdCBkcm1fZ2VtX29iamVjdCAqX21zbV9nZW1f
bmV3KHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsCiAJcmV0dXJuIG9iajsKIAogZmFpbDoKLQlpZiAo
c3RydWN0X211dGV4X2xvY2tlZCkgewotCQlkcm1fZ2VtX29iamVjdF9wdXRfbG9ja2VkKG9iaik7
Ci0JfSBlbHNlIHsKLQkJZHJtX2dlbV9vYmplY3RfcHV0KG9iaik7Ci0JfQorCWRybV9nZW1fb2Jq
ZWN0X3B1dChvYmopOwogCXJldHVybiBFUlJfUFRSKHJldCk7CiB9CiAKLXN0cnVjdCBkcm1fZ2Vt
X29iamVjdCAqbXNtX2dlbV9uZXdfbG9ja2VkKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsCi0JCXVp
bnQzMl90IHNpemUsIHVpbnQzMl90IGZsYWdzKQotewotCXJldHVybiBfbXNtX2dlbV9uZXcoZGV2
LCBzaXplLCBmbGFncywgdHJ1ZSk7Ci19Ci0KLXN0cnVjdCBkcm1fZ2VtX29iamVjdCAqbXNtX2dl
bV9uZXcoc3RydWN0IGRybV9kZXZpY2UgKmRldiwKLQkJdWludDMyX3Qgc2l6ZSwgdWludDMyX3Qg
ZmxhZ3MpCi17Ci0JcmV0dXJuIF9tc21fZ2VtX25ldyhkZXYsIHNpemUsIGZsYWdzLCBmYWxzZSk7
Ci19Ci0KIHN0cnVjdCBkcm1fZ2VtX29iamVjdCAqbXNtX2dlbV9pbXBvcnQoc3RydWN0IGRybV9k
ZXZpY2UgKmRldiwKIAkJc3RydWN0IGRtYV9idWYgKmRtYWJ1Ziwgc3RydWN0IHNnX3RhYmxlICpz
Z3QpCiB7CkBAIC0xMzYxLDEyICsxMzQ0LDEyIEBAIHN0cnVjdCBkcm1fZ2VtX29iamVjdCAqbXNt
X2dlbV9pbXBvcnQoc3RydWN0IGRybV9kZXZpY2UgKmRldiwKIAlyZXR1cm4gRVJSX1BUUihyZXQp
OwogfQogCi1zdGF0aWMgdm9pZCAqX21zbV9nZW1fa2VybmVsX25ldyhzdHJ1Y3QgZHJtX2Rldmlj
ZSAqZGV2LCB1aW50MzJfdCBzaXplLAordm9pZCAqbXNtX2dlbV9rZXJuZWxfbmV3KHN0cnVjdCBk
cm1fZGV2aWNlICpkZXYsIHVpbnQzMl90IHNpemUsCiAJCXVpbnQzMl90IGZsYWdzLCBzdHJ1Y3Qg
bXNtX2dlbV9hZGRyZXNzX3NwYWNlICphc3BhY2UsCi0JCXN0cnVjdCBkcm1fZ2VtX29iamVjdCAq
KmJvLCB1aW50NjRfdCAqaW92YSwgYm9vbCBsb2NrZWQpCisJCXN0cnVjdCBkcm1fZ2VtX29iamVj
dCAqKmJvLCB1aW50NjRfdCAqaW92YSkKIHsKIAl2b2lkICp2YWRkcjsKLQlzdHJ1Y3QgZHJtX2dl
bV9vYmplY3QgKm9iaiA9IF9tc21fZ2VtX25ldyhkZXYsIHNpemUsIGZsYWdzLCBsb2NrZWQpOwor
CXN0cnVjdCBkcm1fZ2VtX29iamVjdCAqb2JqID0gbXNtX2dlbV9uZXcoZGV2LCBzaXplLCBmbGFn
cyk7CiAJaW50IHJldDsKIAogCWlmIChJU19FUlIob2JqKSkKQEAgLTEzOTAsNDIgKzEzNzMsMjEg
QEAgc3RhdGljIHZvaWQgKl9tc21fZ2VtX2tlcm5lbF9uZXcoc3RydWN0IGRybV9kZXZpY2UgKmRl
diwgdWludDMyX3Qgc2l6ZSwKIAogCXJldHVybiB2YWRkcjsKIGVycjoKLQlpZiAobG9ja2VkKQot
CQlkcm1fZ2VtX29iamVjdF9wdXRfbG9ja2VkKG9iaik7Ci0JZWxzZQotCQlkcm1fZ2VtX29iamVj
dF9wdXQob2JqKTsKKwlkcm1fZ2VtX29iamVjdF9wdXQob2JqKTsKIAogCXJldHVybiBFUlJfUFRS
KHJldCk7CiAKIH0KIAotdm9pZCAqbXNtX2dlbV9rZXJuZWxfbmV3KHN0cnVjdCBkcm1fZGV2aWNl
ICpkZXYsIHVpbnQzMl90IHNpemUsCi0JCXVpbnQzMl90IGZsYWdzLCBzdHJ1Y3QgbXNtX2dlbV9h
ZGRyZXNzX3NwYWNlICphc3BhY2UsCi0JCXN0cnVjdCBkcm1fZ2VtX29iamVjdCAqKmJvLCB1aW50
NjRfdCAqaW92YSkKLXsKLQlyZXR1cm4gX21zbV9nZW1fa2VybmVsX25ldyhkZXYsIHNpemUsIGZs
YWdzLCBhc3BhY2UsIGJvLCBpb3ZhLCBmYWxzZSk7Ci19Ci0KLXZvaWQgKm1zbV9nZW1fa2VybmVs
X25ld19sb2NrZWQoc3RydWN0IGRybV9kZXZpY2UgKmRldiwgdWludDMyX3Qgc2l6ZSwKLQkJdWlu
dDMyX3QgZmxhZ3MsIHN0cnVjdCBtc21fZ2VtX2FkZHJlc3Nfc3BhY2UgKmFzcGFjZSwKLQkJc3Ry
dWN0IGRybV9nZW1fb2JqZWN0ICoqYm8sIHVpbnQ2NF90ICppb3ZhKQotewotCXJldHVybiBfbXNt
X2dlbV9rZXJuZWxfbmV3KGRldiwgc2l6ZSwgZmxhZ3MsIGFzcGFjZSwgYm8sIGlvdmEsIHRydWUp
OwotfQotCiB2b2lkIG1zbV9nZW1fa2VybmVsX3B1dChzdHJ1Y3QgZHJtX2dlbV9vYmplY3QgKmJv
LAotCQlzdHJ1Y3QgbXNtX2dlbV9hZGRyZXNzX3NwYWNlICphc3BhY2UsIGJvb2wgbG9ja2VkKQor
CQlzdHJ1Y3QgbXNtX2dlbV9hZGRyZXNzX3NwYWNlICphc3BhY2UpCiB7CiAJaWYgKElTX0VSUl9P
Ul9OVUxMKGJvKSkKIAkJcmV0dXJuOwogCiAJbXNtX2dlbV9wdXRfdmFkZHIoYm8pOwogCW1zbV9n
ZW1fdW5waW5faW92YShibywgYXNwYWNlKTsKLQotCWlmIChsb2NrZWQpCi0JCWRybV9nZW1fb2Jq
ZWN0X3B1dF9sb2NrZWQoYm8pOwotCWVsc2UKLQkJZHJtX2dlbV9vYmplY3RfcHV0KGJvKTsKKwlk
cm1fZ2VtX29iamVjdF9wdXQoYm8pOwogfQogCiB2b2lkIG1zbV9nZW1fb2JqZWN0X3NldF9uYW1l
KHN0cnVjdCBkcm1fZ2VtX29iamVjdCAqYm8sIGNvbnN0IGNoYXIgKmZtdCwgLi4uKQpkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL21zbS9tc21fZ2VtLmggYi9kcml2ZXJzL2dwdS9kcm0vbXNt
L21zbV9nZW0uaAppbmRleCBkNjlmY2IzN2NlMTcuLjcxY2NmODdhNjQ2YiAxMDA2NDQKLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL21zbS9tc21fZ2VtLmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL21zbS9t
c21fZ2VtLmgKQEAgLTE1NCwxNiArMTU0LDExIEBAIGludCBtc21fZ2VtX25ld19oYW5kbGUoc3Ry
dWN0IGRybV9kZXZpY2UgKmRldiwgc3RydWN0IGRybV9maWxlICpmaWxlLAogCQl1aW50MzJfdCBz
aXplLCB1aW50MzJfdCBmbGFncywgdWludDMyX3QgKmhhbmRsZSwgY2hhciAqbmFtZSk7CiBzdHJ1
Y3QgZHJtX2dlbV9vYmplY3QgKm1zbV9nZW1fbmV3KHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsCiAJ
CXVpbnQzMl90IHNpemUsIHVpbnQzMl90IGZsYWdzKTsKLXN0cnVjdCBkcm1fZ2VtX29iamVjdCAq
bXNtX2dlbV9uZXdfbG9ja2VkKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsCi0JCXVpbnQzMl90IHNp
emUsIHVpbnQzMl90IGZsYWdzKTsKIHZvaWQgKm1zbV9nZW1fa2VybmVsX25ldyhzdHJ1Y3QgZHJt
X2RldmljZSAqZGV2LCB1aW50MzJfdCBzaXplLAogCQl1aW50MzJfdCBmbGFncywgc3RydWN0IG1z
bV9nZW1fYWRkcmVzc19zcGFjZSAqYXNwYWNlLAogCQlzdHJ1Y3QgZHJtX2dlbV9vYmplY3QgKipi
bywgdWludDY0X3QgKmlvdmEpOwotdm9pZCAqbXNtX2dlbV9rZXJuZWxfbmV3X2xvY2tlZChzdHJ1
Y3QgZHJtX2RldmljZSAqZGV2LCB1aW50MzJfdCBzaXplLAotCQl1aW50MzJfdCBmbGFncywgc3Ry
dWN0IG1zbV9nZW1fYWRkcmVzc19zcGFjZSAqYXNwYWNlLAotCQlzdHJ1Y3QgZHJtX2dlbV9vYmpl
Y3QgKipibywgdWludDY0X3QgKmlvdmEpOwogdm9pZCBtc21fZ2VtX2tlcm5lbF9wdXQoc3RydWN0
IGRybV9nZW1fb2JqZWN0ICpibywKLQkJc3RydWN0IG1zbV9nZW1fYWRkcmVzc19zcGFjZSAqYXNw
YWNlLCBib29sIGxvY2tlZCk7CisJCXN0cnVjdCBtc21fZ2VtX2FkZHJlc3Nfc3BhY2UgKmFzcGFj
ZSk7CiBzdHJ1Y3QgZHJtX2dlbV9vYmplY3QgKm1zbV9nZW1faW1wb3J0KHN0cnVjdCBkcm1fZGV2
aWNlICpkZXYsCiAJCXN0cnVjdCBkbWFfYnVmICpkbWFidWYsIHN0cnVjdCBzZ190YWJsZSAqc2d0
KTsKIF9fcHJpbnRmKDIsIDMpCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vbXNtL21zbV9n
ZW1fc3VibWl0LmMgYi9kcml2ZXJzL2dwdS9kcm0vbXNtL21zbV9nZW1fc3VibWl0LmMKaW5kZXgg
NmQ0NmY5Mjc1YTQwLi5lNzg5ZjY4ZDViZTEgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9t
c20vbXNtX2dlbV9zdWJtaXQuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vbXNtL21zbV9nZW1fc3Vi
bWl0LmMKQEAgLTQ1Miw3ICs0NTIsNyBAQCBzdGF0aWMgdm9pZCBzdWJtaXRfY2xlYW51cChzdHJ1
Y3QgbXNtX2dlbV9zdWJtaXQgKnN1Ym1pdCkKIAkJc3RydWN0IG1zbV9nZW1fb2JqZWN0ICptc21f
b2JqID0gc3VibWl0LT5ib3NbaV0ub2JqOwogCQlzdWJtaXRfdW5sb2NrX3VucGluX2JvKHN1Ym1p
dCwgaSwgZmFsc2UpOwogCQlsaXN0X2RlbF9pbml0KCZtc21fb2JqLT5zdWJtaXRfZW50cnkpOwot
CQlkcm1fZ2VtX29iamVjdF9wdXRfbG9ja2VkKCZtc21fb2JqLT5iYXNlKTsKKwkJZHJtX2dlbV9v
YmplY3RfcHV0KCZtc21fb2JqLT5iYXNlKTsKIAl9CiB9CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9tc20vbXNtX2dwdS5jIGIvZHJpdmVycy9ncHUvZHJtL21zbS9tc21fZ3B1LmMKaW5k
ZXggYzRlZDg2OTRmNzIxLi5hMDU4OTY2NmIxYTMgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9tc20vbXNtX2dwdS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9tc20vbXNtX2dwdS5jCkBAIC05
OTIsNyArOTkyLDcgQEAgaW50IG1zbV9ncHVfaW5pdChzdHJ1Y3QgZHJtX2RldmljZSAqZHJtLCBz
dHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2LAogCQlncHUtPnJiW2ldID0gTlVMTDsKIAl9CiAK
LQltc21fZ2VtX2tlcm5lbF9wdXQoZ3B1LT5tZW1wdHJzX2JvLCBncHUtPmFzcGFjZSwgZmFsc2Up
OworCW1zbV9nZW1fa2VybmVsX3B1dChncHUtPm1lbXB0cnNfYm8sIGdwdS0+YXNwYWNlKTsKIAog
CXBsYXRmb3JtX3NldF9kcnZkYXRhKHBkZXYsIE5VTEwpOwogCXJldHVybiByZXQ7CkBAIC0xMDEx
LDcgKzEwMTEsNyBAQCB2b2lkIG1zbV9ncHVfY2xlYW51cChzdHJ1Y3QgbXNtX2dwdSAqZ3B1KQog
CQlncHUtPnJiW2ldID0gTlVMTDsKIAl9CiAKLQltc21fZ2VtX2tlcm5lbF9wdXQoZ3B1LT5tZW1w
dHJzX2JvLCBncHUtPmFzcGFjZSwgZmFsc2UpOworCW1zbV9nZW1fa2VybmVsX3B1dChncHUtPm1l
bXB0cnNfYm8sIGdwdS0+YXNwYWNlKTsKIAogCWlmICghSVNfRVJSX09SX05VTEwoZ3B1LT5hc3Bh
Y2UpKSB7CiAJCWdwdS0+YXNwYWNlLT5tbXUtPmZ1bmNzLT5kZXRhY2goZ3B1LT5hc3BhY2UtPm1t
dSk7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vbXNtL21zbV9yaW5nYnVmZmVyLmMgYi9k
cml2ZXJzL2dwdS9kcm0vbXNtL21zbV9yaW5nYnVmZmVyLmMKaW5kZXggMDU0NDYxNjYyYWY1Li40
MzdjY2E1N2QwMDUgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9tc20vbXNtX3JpbmdidWZm
ZXIuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vbXNtL21zbV9yaW5nYnVmZmVyLmMKQEAgLTY3LDcg
KzY3LDcgQEAgdm9pZCBtc21fcmluZ2J1ZmZlcl9kZXN0cm95KHN0cnVjdCBtc21fcmluZ2J1ZmZl
ciAqcmluZykKIAogCW1zbV9mZW5jZV9jb250ZXh0X2ZyZWUocmluZy0+ZmN0eCk7CiAKLQltc21f
Z2VtX2tlcm5lbF9wdXQocmluZy0+Ym8sIHJpbmctPmdwdS0+YXNwYWNlLCBmYWxzZSk7CisJbXNt
X2dlbV9rZXJuZWxfcHV0KHJpbmctPmJvLCByaW5nLT5ncHUtPmFzcGFjZSk7CiAKIAlrZnJlZShy
aW5nKTsKIH0KLS0gCjIuMzEuMQoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX18KRnJlZWRyZW5vIG1haWxpbmcgbGlzdApGcmVlZHJlbm9AbGlzdHMuZnJlZWRl
c2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8v
ZnJlZWRyZW5vCg==
