Return-Path: <freedreno-bounces@lists.freedesktop.org>
X-Original-To: lists+freedreno@lfdr.de
Delivered-To: lists+freedreno@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id C51618EF69
	for <lists+freedreno@lfdr.de>; Thu, 15 Aug 2019 17:35:27 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 88A4E6E9EE;
	Thu, 15 Aug 2019 15:35:26 +0000 (UTC)
X-Original-To: freedreno@lists.freedesktop.org
Delivered-To: freedreno@lists.freedesktop.org
Received: from smtp.codeaurora.org (smtp.codeaurora.org [198.145.29.96])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 266C56E9EE
 for <freedreno@lists.freedesktop.org>; Thu, 15 Aug 2019 15:35:25 +0000 (UTC)
Received: by smtp.codeaurora.org (Postfix, from userid 1000)
 id 00D60606CF; Thu, 15 Aug 2019 15:35:24 +0000 (UTC)
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on
 pdx-caf-mail.web.codeaurora.org
X-Spam-Level: 
X-Spam-Status: No, score=-2.7 required=2.0 tests=ALL_TRUSTED,BAYES_00,
 DKIM_INVALID,DKIM_SIGNED,SPF_NONE autolearn=no autolearn_force=no
 version=3.4.0
Received: from jcrouse1-lnx.qualcomm.com (i-global254.qualcomm.com
 [199.106.103.254])
 (using TLSv1.2 with cipher ECDHE-RSA-AES128-GCM-SHA256 (128/128 bits))
 (No client certificate requested)
 (Authenticated sender: jcrouse@smtp.codeaurora.org)
 by smtp.codeaurora.org (Postfix) with ESMTPSA id 3F25760392;
 Thu, 15 Aug 2019 15:35:23 +0000 (UTC)
DMARC-Filter: OpenDMARC Filter v1.3.2 smtp.codeaurora.org 3F25760392
Date: Thu, 15 Aug 2019 09:35:21 -0600
From: Jordan Crouse <jcrouse@codeaurora.org>
To: freedreno@lists.freedesktop.org
Message-ID: <20190815153521.GE28465@jcrouse1-lnx.qualcomm.com>
Mail-Followup-To: freedreno@lists.freedesktop.org,
 jean-philippe.brucker@arm.com, linux-arm-msm@vger.kernel.org,
 robin.murphy@arm.com, Will Deacon <will@kernel.org>,
 Zhen Lei <thunder.leizhen@huawei.com>,
 Rob Herring <robh@kernel.org>, linux-kernel@vger.kernel.org,
 iommu@lists.linux-foundation.org, Joerg Roedel <joro@8bytes.org>,
 linux-arm-kernel@lists.infradead.org
References: <1565216500-28506-1-git-send-email-jcrouse@codeaurora.org>
 <1565216500-28506-2-git-send-email-jcrouse@codeaurora.org>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <1565216500-28506-2-git-send-email-jcrouse@codeaurora.org>
User-Agent: Mutt/1.5.24 (2015-08-30)
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
 d=codeaurora.org; s=default; t=1565883325;
 bh=QlaGcxmX8cF7CravGN/+xa4jB5dwRXBwHP2pDXPk1mY=;
 h=Date:From:To:Cc:Subject:References:In-Reply-To:From;
 b=U2jwgl71X5OBNDQMWEAUn2I1qZHmaDW9s5l8FIsglH70Z7bRWiOswhWzboqCWkk0N
 rSedZsqoWv5DPXAYVviyNZs5faq11lGrZ7v89Jap/OZbYBjNhCfYCwEJui8UeEZ0AX
 VGFGYsyzSSZJJCGYUf8FPwbZGP1rXzUkTA/Ri+Fo=
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple;
 d=codeaurora.org; s=default; t=1565883324;
 bh=QlaGcxmX8cF7CravGN/+xa4jB5dwRXBwHP2pDXPk1mY=;
 h=Date:From:To:Cc:Subject:References:In-Reply-To:From;
 b=mlwMCSl39LEM1MdnLVZr60xlmGx+uYa8Wf15uLaGIL0Rg7t282HlwyGyRoLl20IpC
 yVtN+TSzGyfS/RYXIMRGmDR0CUwzDUVZASoOeuTWe2BZ7Hp6kLQQ08jlOAN3sgj/2+
 PtMXv4tDGhCPmtgR7DVjvwjFQFEv1MBF1JYYMyLw=
X-Mailman-Original-Authentication-Results: pdx-caf-mail.web.codeaurora.org;
 dmarc=none (p=none dis=none)
 header.from=codeaurora.org
X-Mailman-Original-Authentication-Results: pdx-caf-mail.web.codeaurora.org;
 spf=none
 smtp.mailfrom=jcrouse@codeaurora.org
Subject: Re: [Freedreno] [PATCH v3 1/2] iommu/io-pgtable-arm: Add support
 for ARM_ADRENO_GPU_LPAE io-pgtable format
X-BeenThere: freedreno@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Freedreno graphics driver community testing & development
 <freedreno.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/freedreno>,
 <mailto:freedreno-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/freedreno>
List-Post: <mailto:freedreno@lists.freedesktop.org>
List-Help: <mailto:freedreno-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/freedreno>,
 <mailto:freedreno-request@lists.freedesktop.org?subject=subscribe>
Cc: Rob Herring <robh@kernel.org>, Will Deacon <will@kernel.org>,
 jean-philippe.brucker@arm.com, linux-arm-msm@vger.kernel.org,
 Joerg Roedel <joro@8bytes.org>, linux-kernel@vger.kernel.org,
 iommu@lists.linux-foundation.org, Zhen Lei <thunder.leizhen@huawei.com>,
 robin.murphy@arm.com, linux-arm-kernel@lists.infradead.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: freedreno-bounces@lists.freedesktop.org
Sender: "Freedreno" <freedreno-bounces@lists.freedesktop.org>

T24gV2VkLCBBdWcgMDcsIDIwMTkgYXQgMDQ6MjE6MzlQTSAtMDYwMCwgSm9yZGFuIENyb3VzZSB3
cm90ZToKPiBBZGQgYSBuZXcgc3ViLWZvcm1hdCBBUk1fQURSRU5PX0dQVV9MUEFFIHRvIHNldCB1
cCBUVEJSMCBhbmQgVFRCUjEgZm9yCj4gdXNlIGJ5IHRoZSBBZHJlbm8gR1BVLiBUaGlzIHdpbGwg
YWxsb3cgVGhlIEdQVSBkcml2ZXIgdG8gbWFwIGdsb2JhbAo+IGJ1ZmZlcnMgaW4gdGhlIFRUQlIx
IGFuZCBsZWF2ZSB0aGUgVFRCUjAgY29uZmlndXJlZCBidXQgdW5zZXQgYW5kCj4gZnJlZSB0byBi
ZSBjaGFuZ2VkIGR5bmFtaWNhbGx5IGJ5IHRoZSBHUFUuCgpJdCB3b3VsZCB0YWtlIGEgYml0IG9m
IGNvZGUgcmV3b3JrIGFuZCB1bi1zdGF0aWMtaWZ5aW5nIGEgZmV3IGZ1bmN0aW9ucyBidXQgSSdt
CndvbmRlcmluZyBpZiBpdCB3b3VsZCBiZSBjbGVhbmVyIHRvIGFkZCB0aGUgQWRyZW5vIEdQVSBw
YWdldGFibGUgZm9ybWF0IGluIGEgbmV3CmZpbGUsIHN1Y2ggYXMgaW8tcGd0YWJsZS1hZHJlbm8u
Yy4gCgpKb3JkYW4KCj4gU2lnbmVkLW9mZi1ieTogSm9yZGFuIENyb3VzZSA8amNyb3VzZUBjb2Rl
YXVyb3JhLm9yZz4KPiAtLS0KPiAKPiAgZHJpdmVycy9pb21tdS9pby1wZ3RhYmxlLWFybS5jIHwg
MjE0ICsrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrLS0tCj4gIGRyaXZlcnMv
aW9tbXUvaW8tcGd0YWJsZS5jICAgICB8ICAgMSArCj4gIGluY2x1ZGUvbGludXgvaW8tcGd0YWJs
ZS5oICAgICB8ICAgMiArCj4gIDMgZmlsZXMgY2hhbmdlZCwgMjAyIGluc2VydGlvbnMoKyksIDE1
IGRlbGV0aW9ucygtKQo+IAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2lvbW11L2lvLXBndGFibGUt
YXJtLmMgYi9kcml2ZXJzL2lvbW11L2lvLXBndGFibGUtYXJtLmMKPiBpbmRleCAxNjFhN2Q1Li44
ZWIwZGJiIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvaW9tbXUvaW8tcGd0YWJsZS1hcm0uYwo+ICsr
KyBiL2RyaXZlcnMvaW9tbXUvaW8tcGd0YWJsZS1hcm0uYwo+IEBAIC0xMTIsMTMgKzExMiwxOSBA
QAo+ICAjZGVmaW5lIEFSTV8zMl9MUEFFX1RDUl9FQUUJCSgxIDw8IDMxKQo+ICAjZGVmaW5lIEFS
TV82NF9MUEFFX1MyX1RDUl9SRVMxCQkoMSA8PCAzMSkKPiAgCj4gKyNkZWZpbmUgQVJNX0xQQUVf
VENSX0VQRDAJCSgxIDw8IDcpCj4gICNkZWZpbmUgQVJNX0xQQUVfVENSX0VQRDEJCSgxIDw8IDIz
KQo+ICAKPiAgI2RlZmluZSBBUk1fTFBBRV9UQ1JfVEcwXzRLCQkoMCA8PCAxNCkKPiAgI2RlZmlu
ZSBBUk1fTFBBRV9UQ1JfVEcwXzY0SwkJKDEgPDwgMTQpCj4gICNkZWZpbmUgQVJNX0xQQUVfVENS
X1RHMF8xNksJCSgyIDw8IDE0KQo+ICAKPiArI2RlZmluZSBBUk1fTFBBRV9UQ1JfVEcxXzRLCQko
MCA8PCAzMCkKPiArI2RlZmluZSBBUk1fTFBBRV9UQ1JfVEcxXzY0SwkJKDEgPDwgMzApCj4gKyNk
ZWZpbmUgQVJNX0xQQUVfVENSX1RHMV8xNksJCSgyIDw8IDMwKQo+ICsKPiAgI2RlZmluZSBBUk1f
TFBBRV9UQ1JfU0gwX1NISUZUCQkxMgo+ICsjZGVmaW5lIEFSTV9MUEFFX1RDUl9TSDFfU0hJRlQJ
CTI4Cj4gICNkZWZpbmUgQVJNX0xQQUVfVENSX1NIMF9NQVNLCQkweDMKPiAgI2RlZmluZSBBUk1f
TFBBRV9UQ1JfU0hfTlMJCTAKPiAgI2RlZmluZSBBUk1fTFBBRV9UQ1JfU0hfT1MJCTIKPiBAQCAt
MTI2LDYgKzEzMiw4IEBACj4gIAo+ICAjZGVmaW5lIEFSTV9MUEFFX1RDUl9PUkdOMF9TSElGVAkx
MAo+ICAjZGVmaW5lIEFSTV9MUEFFX1RDUl9JUkdOMF9TSElGVAk4Cj4gKyNkZWZpbmUgQVJNX0xQ
QUVfVENSX09SR04xX1NISUZUCTI2Cj4gKyNkZWZpbmUgQVJNX0xQQUVfVENSX0lSR04xX1NISUZU
CTI0Cj4gICNkZWZpbmUgQVJNX0xQQUVfVENSX1JHTl9NQVNLCQkweDMKPiAgI2RlZmluZSBBUk1f
TFBBRV9UQ1JfUkdOX05DCQkwCj4gICNkZWZpbmUgQVJNX0xQQUVfVENSX1JHTl9XQldBCQkxCj4g
QEAgLTEzNiw2ICsxNDQsNyBAQAo+ICAjZGVmaW5lIEFSTV9MUEFFX1RDUl9TTDBfTUFTSwkJMHgz
Cj4gIAo+ICAjZGVmaW5lIEFSTV9MUEFFX1RDUl9UMFNaX1NISUZUCQkwCj4gKyNkZWZpbmUgQVJN
X0xQQUVfVENSX1QxU1pfU0hJRlQJCTE2Cj4gICNkZWZpbmUgQVJNX0xQQUVfVENSX1NaX01BU0sJ
CTB4Zgo+ICAKPiAgI2RlZmluZSBBUk1fTFBBRV9UQ1JfUFNfU0hJRlQJCTE2Cj4gQEAgLTE1Miw2
ICsxNjEsMTQgQEAKPiAgI2RlZmluZSBBUk1fTFBBRV9UQ1JfUFNfNDhfQklUCQkweDVVTEwKPiAg
I2RlZmluZSBBUk1fTFBBRV9UQ1JfUFNfNTJfQklUCQkweDZVTEwKPiAgCj4gKyNkZWZpbmUgQVJN
X0xQQUVfVENSX1NFUF9TSElGVAkJNDcKPiArI2RlZmluZSBBUk1fTFBBRV9UQ1JfU0VQXzMxCQko
MHgwVUxMIDw8IEFSTV9MUEFFX1RDUl9TRVBfU0hJRlQpCj4gKyNkZWZpbmUgQVJNX0xQQUVfVENS
X1NFUF8zNQkJKDB4MVVMTCA8PCBBUk1fTFBBRV9UQ1JfU0VQX1NISUZUKQo+ICsjZGVmaW5lIEFS
TV9MUEFFX1RDUl9TRVBfMzkJCSgweDJVTEwgPDwgQVJNX0xQQUVfVENSX1NFUF9TSElGVCkKPiAr
I2RlZmluZSBBUk1fTFBBRV9UQ1JfU0VQXzQxCQkoMHgzVUxMIDw8IEFSTV9MUEFFX1RDUl9TRVBf
U0hJRlQpCj4gKyNkZWZpbmUgQVJNX0xQQUVfVENSX1NFUF80MwkJKDB4NFVMTCA8PCBBUk1fTFBB
RV9UQ1JfU0VQX1NISUZUKQo+ICsjZGVmaW5lIEFSTV9MUEFFX1RDUl9TRVBfVVBTVFJFQU0JKDB4
N1VMTCA8PCBBUk1fTFBBRV9UQ1JfU0VQX1NISUZUKQo+ICsKPiAgI2RlZmluZSBBUk1fTFBBRV9N
QUlSX0FUVFJfU0hJRlQobikJKChuKSA8PCAzKQo+ICAjZGVmaW5lIEFSTV9MUEFFX01BSVJfQVRU
Ul9NQVNLCQkweGZmCj4gICNkZWZpbmUgQVJNX0xQQUVfTUFJUl9BVFRSX0RFVklDRQkweDA0Cj4g
QEAgLTQyNiw3ICs0NDMsOCBAQCBzdGF0aWMgYXJtX2xwYWVfaW9wdGUgYXJtX2xwYWVfcHJvdF90
b19wdGUoc3RydWN0IGFybV9scGFlX2lvX3BndGFibGUgKmRhdGEsCj4gIAlhcm1fbHBhZV9pb3B0
ZSBwdGU7Cj4gIAo+ICAJaWYgKGRhdGEtPmlvcC5mbXQgPT0gQVJNXzY0X0xQQUVfUzEgfHwKPiAt
CSAgICBkYXRhLT5pb3AuZm10ID09IEFSTV8zMl9MUEFFX1MxKSB7Cj4gKwkgICAgZGF0YS0+aW9w
LmZtdCA9PSBBUk1fMzJfTFBBRV9TMSB8fAo+ICsJICAgIGRhdGEtPmlvcC5mbXQgPT0gQVJNX0FE
UkVOT19HUFVfTFBBRSkgewo+ICAJCXB0ZSA9IEFSTV9MUEFFX1BURV9uRzsKPiAgCQlpZiAoIShw
cm90ICYgSU9NTVVfV1JJVEUpICYmIChwcm90ICYgSU9NTVVfUkVBRCkpCj4gIAkJCXB0ZSB8PSBB
Uk1fTFBBRV9QVEVfQVBfUkRPTkxZOwo+IEBAIC00OTcsNiArNTE1LDIxIEBAIHN0YXRpYyBpbnQg
YXJtX2xwYWVfbWFwKHN0cnVjdCBpb19wZ3RhYmxlX29wcyAqb3BzLCB1bnNpZ25lZCBsb25nIGlv
dmEsCj4gIAlyZXR1cm4gcmV0Owo+ICB9Cj4gIAo+ICtzdGF0aWMgaW50IGFybV9hZHJlbm9fZ3B1
X2xwYWVfbWFwKHN0cnVjdCBpb19wZ3RhYmxlX29wcyAqb3BzLAo+ICsJCXVuc2lnbmVkIGxvbmcg
aW92YSwgcGh5c19hZGRyX3QgcGFkZHIsIHNpemVfdCBzaXplLAo+ICsJCWludCBpb21tdV9wcm90
KQo+ICt7Cj4gKwlzdHJ1Y3QgYXJtX2xwYWVfaW9fcGd0YWJsZSAqZGF0YSA9IGlvX3BndGFibGVf
b3BzX3RvX2RhdGEob3BzKTsKPiArCXVuc2lnbmVkIGxvbmcgbWFzayA9IDFVTCA8PCBkYXRhLT5p
b3AuY2ZnLmlhczsKPiArCj4gKwkvKiBUaGlzIGNvbmZpZ3VyYXRpb24gZXhwZWN0cyBhbGwgaW92
YSBhZGRyZXNzZXMgdG8gYmUgaW4gVFRCUjEgKi8KPiArCWlmIChXQVJOX09OKGlvdmEgJiBtYXNr
KSkKPiArCQlyZXR1cm4gLUVSQU5HRTsKPiArCj4gKwkvKiBNYXNrIG9mZiB0aGUgc2lnbiBleHRl
bmRlZCBiaXRzIGFuZCBtYXAgYXMgdXN1YWwgKi8KPiArCXJldHVybiBhcm1fbHBhZV9tYXAob3Bz
LCBpb3ZhICYgKG1hc2sgLSAxKSwgcGFkZHIsIHNpemUsIGlvbW11X3Byb3QpOwo+ICt9Cj4gKwo+
ICBzdGF0aWMgdm9pZCBfX2FybV9scGFlX2ZyZWVfcGd0YWJsZShzdHJ1Y3QgYXJtX2xwYWVfaW9f
cGd0YWJsZSAqZGF0YSwgaW50IGx2bCwKPiAgCQkJCSAgICBhcm1fbHBhZV9pb3B0ZSAqcHRlcCkK
PiAgewo+IEBAIC02NDMsNiArNjc2LDIyIEBAIHN0YXRpYyBzaXplX3QgX19hcm1fbHBhZV91bm1h
cChzdHJ1Y3QgYXJtX2xwYWVfaW9fcGd0YWJsZSAqZGF0YSwKPiAgCXJldHVybiBfX2FybV9scGFl
X3VubWFwKGRhdGEsIGlvdmEsIHNpemUsIGx2bCArIDEsIHB0ZXApOwo+ICB9Cj4gIAo+ICtzdGF0
aWMgc2l6ZV90IGFybV9hZHJlbm9fZ3B1X2xwYWVfdW5tYXAoc3RydWN0IGlvX3BndGFibGVfb3Bz
ICpvcHMsCj4gKwkJCQkgICB1bnNpZ25lZCBsb25nIGlvdmEsIHNpemVfdCBzaXplKQo+ICt7Cj4g
KwlzdHJ1Y3QgYXJtX2xwYWVfaW9fcGd0YWJsZSAqZGF0YSA9IGlvX3BndGFibGVfb3BzX3RvX2Rh
dGEob3BzKTsKPiArCWFybV9scGFlX2lvcHRlICpwdGVwID0gZGF0YS0+cGdkOwo+ICsJaW50IGx2
bCA9IEFSTV9MUEFFX1NUQVJUX0xWTChkYXRhKTsKPiArCXVuc2lnbmVkIGxvbmcgbWFzayA9IDFV
TCA8PCBkYXRhLT5pb3AuY2ZnLmlhczsKPiArCj4gKwkvKiBNYWtlIHN1cmUgdGhlIHNpZ24gZXh0
ZW5kIGJpdCBpcyBzZXQgaW4gdGhlIGlvdmEgKi8KPiArCWlmIChXQVJOX09OKCEoaW92YSAmIG1h
c2spKSkKPiArCQlyZXR1cm4gMDsKPiArCj4gKwkvKiBNYXNrIG9mZiB0aGUgc2lnbiBleHRlbmRl
ZCBiaXRzIGJlZm9yZSB1bm1hcHBpbmcgKi8KPiArCXJldHVybiBfX2FybV9scGFlX3VubWFwKGRh
dGEsIGlvdmEgJiAobWFzayAtIDEpLCBzaXplLCBsdmwsIHB0ZXApOwo+ICt9Cj4gKwo+ICBzdGF0
aWMgc2l6ZV90IGFybV9scGFlX3VubWFwKHN0cnVjdCBpb19wZ3RhYmxlX29wcyAqb3BzLCB1bnNp
Z25lZCBsb25nIGlvdmEsCj4gIAkJCSAgICAgc2l6ZV90IHNpemUpCj4gIHsKPiBAQCAtNjkyLDYg
Kzc0MSwxNyBAQCBzdGF0aWMgcGh5c19hZGRyX3QgYXJtX2xwYWVfaW92YV90b19waHlzKHN0cnVj
dCBpb19wZ3RhYmxlX29wcyAqb3BzLAo+ICAJcmV0dXJuIGlvcHRlX3RvX3BhZGRyKHB0ZSwgZGF0
YSkgfCBpb3ZhOwo+ICB9Cj4gIAo+ICsKPiArc3RhdGljIHBoeXNfYWRkcl90IGFybV9hZHJlbm9f
Z3B1X2xwYWVfaW92YV90b19waHlzKHN0cnVjdCBpb19wZ3RhYmxlX29wcyAqb3BzLAo+ICsJCQkJ
CSAgICAgICB1bnNpZ25lZCBsb25nIGlvdmEpCj4gK3sKPiArCXN0cnVjdCBhcm1fbHBhZV9pb19w
Z3RhYmxlICpkYXRhID0gaW9fcGd0YWJsZV9vcHNfdG9fZGF0YShvcHMpOwo+ICsJdW5zaWduZWQg
bG9uZyBtYXNrID0gMVVMIDw8IGRhdGEtPmlvcC5jZmcuaWFzOwo+ICsKPiArCS8qIE1hc2sgb2Zm
IHRoZSBzaWduIGV4dGVuZGVkIGJpdHMgYmVmb3JlIHRyYW5zbGF0aW5nICovCj4gKwlyZXR1cm4g
YXJtX2xwYWVfaW92YV90b19waHlzKG9wcywgaW92YSAmIChtYXNrIC0gMSkpOwo+ICt9Cj4gKwo+
ICBzdGF0aWMgdm9pZCBhcm1fbHBhZV9yZXN0cmljdF9wZ3NpemVzKHN0cnVjdCBpb19wZ3RhYmxl
X2NmZyAqY2ZnKQo+ICB7Cj4gIAl1bnNpZ25lZCBsb25nIGdyYW51bGUsIHBhZ2Vfc2l6ZXM7Cj4g
QEAgLTc3MSwxNyArODMxLDE2IEBAIGFybV9scGFlX2FsbG9jX3BndGFibGUoc3RydWN0IGlvX3Bn
dGFibGVfY2ZnICpjZmcpCj4gIAlwZ2RfYml0cyA9IHZhX2JpdHMgLSAoZGF0YS0+Yml0c19wZXJf
bGV2ZWwgKiAoZGF0YS0+bGV2ZWxzIC0gMSkpOwo+ICAJZGF0YS0+cGdkX3NpemUgPSAxVUwgPDwg
KHBnZF9iaXRzICsgaWxvZzIoc2l6ZW9mKGFybV9scGFlX2lvcHRlKSkpOwo+ICAKPiAtCWRhdGEt
PmlvcC5vcHMgPSAoc3RydWN0IGlvX3BndGFibGVfb3BzKSB7Cj4gLQkJLm1hcAkJPSBhcm1fbHBh
ZV9tYXAsCj4gLQkJLnVubWFwCQk9IGFybV9scGFlX3VubWFwLAo+IC0JCS5pb3ZhX3RvX3BoeXMJ
PSBhcm1fbHBhZV9pb3ZhX3RvX3BoeXMsCj4gLQl9Owo+ICAKPiAgCXJldHVybiBkYXRhOwo+ICB9
Cj4gIAo+IC1zdGF0aWMgc3RydWN0IGlvX3BndGFibGUgKgo+IC1hcm1fNjRfbHBhZV9hbGxvY19w
Z3RhYmxlX3MxKHN0cnVjdCBpb19wZ3RhYmxlX2NmZyAqY2ZnLCB2b2lkICpjb29raWUpCj4gKy8q
Cj4gKyAqIENvbW1vbiBhbGxvY2F0aW9uIGZ1bmN0aW9uIGZvciBTMSBwYWdldGFibGVzLiAgU2V0
IHVwIHRoZSBUVEJSMCByZWdpb24gYW5kCj4gKyAqIGFsbG9jYXRlIGEgZGVmYXVsdCBwYWdldGFi
bGUKPiArICovCj4gK3N0YXRpYyBzdHJ1Y3QgYXJtX2xwYWVfaW9fcGd0YWJsZSAqCj4gK19hcm1f
NjRfbHBhZV9hbGxvY19wZ3RhYmxlX3MxX2NvbW1vbihzdHJ1Y3QgaW9fcGd0YWJsZV9jZmcgKmNm
ZykKPiAgewo+ICAJdTY0IHJlZzsKPiAgCXN0cnVjdCBhcm1fbHBhZV9pb19wZ3RhYmxlICpkYXRh
Owo+IEBAIC04NDUsOCArOTA0LDYgQEAgYXJtXzY0X2xwYWVfYWxsb2NfcGd0YWJsZV9zMShzdHJ1
Y3QgaW9fcGd0YWJsZV9jZmcgKmNmZywgdm9pZCAqY29va2llKQo+ICAKPiAgCXJlZyB8PSAoNjRV
TEwgLSBjZmctPmlhcykgPDwgQVJNX0xQQUVfVENSX1QwU1pfU0hJRlQ7Cj4gIAo+IC0JLyogRGlz
YWJsZSBzcGVjdWxhdGl2ZSB3YWxrcyB0aHJvdWdoIFRUQlIxICovCj4gLQlyZWcgfD0gQVJNX0xQ
QUVfVENSX0VQRDE7Cj4gIAljZmctPmFybV9scGFlX3MxX2NmZy50Y3IgPSByZWc7Cj4gIAo+ICAJ
LyogTUFJUnMgKi8KPiBAQCAtODcwLDE2ICs5MjcsMTMxIEBAIGFybV82NF9scGFlX2FsbG9jX3Bn
dGFibGVfczEoc3RydWN0IGlvX3BndGFibGVfY2ZnICpjZmcsIHZvaWQgKmNvb2tpZSkKPiAgCS8q
IEVuc3VyZSB0aGUgZW1wdHkgcGdkIGlzIHZpc2libGUgYmVmb3JlIGFueSBhY3R1YWwgVFRCUiB3
cml0ZSAqLwo+ICAJd21iKCk7Cj4gIAo+IC0JLyogVFRCUnMgKi8KPiAtCWNmZy0+YXJtX2xwYWVf
czFfY2ZnLnR0YnJbMF0gPSB2aXJ0X3RvX3BoeXMoZGF0YS0+cGdkKTsKPiAtCWNmZy0+YXJtX2xw
YWVfczFfY2ZnLnR0YnJbMV0gPSAwOwo+IC0JcmV0dXJuICZkYXRhLT5pb3A7Cj4gLQo+ICsJcmV0
dXJuIGRhdGE7Cj4gIG91dF9mcmVlX2RhdGE6Cj4gIAlrZnJlZShkYXRhKTsKPiAgCXJldHVybiBO
VUxMOwo+ICB9Cj4gIAo+ICsKPiArc3RhdGljIHN0cnVjdCBpb19wZ3RhYmxlICoKPiArYXJtX2Fk
cmVub19ncHVfbHBhZV9hbGxvY19wZ3RhYmxlKHN0cnVjdCBpb19wZ3RhYmxlX2NmZyAqY2ZnLCB2
b2lkICpjb29raWUpCj4gK3sKPiArCXN0cnVjdCBhcm1fbHBhZV9pb19wZ3RhYmxlICpkYXRhOwo+
ICsJdTY0IHJlZzsKPiArCj4gKwkvKgo+ICsJICogTWFrZSBzdXJlIHRoZSBpYXMgYWxpZ25zIHdp
dGggdGhlIGF2YWlsYWJsZSBvcHRpb25zIGZvciB0aGUgc2lnbgo+ICsJICogZXh0ZW5zaW9uIGJp
dAo+ICsJICovCj4gKwlzd2l0Y2ggKGNmZy0+aWFzKSB7Cj4gKwljYXNlIDMyOgo+ICsJY2FzZSAz
NjoKPiArCWNhc2UgNDA6Cj4gKwljYXNlIDQyOgo+ICsJY2FzZSA0NDoKPiArCQkvKgo+ICsJCSAq
IFRoZSBTRVAgd2lsbCBiZSB0aGUgaGlnaGVzdCBhdmFpbGFibGUgYml0IHNvIGFkanVzdCB0aGUg
ZGF0YQo+ICsJCSAqIHNpemUgYnkgb25lIHRvIGFjY29tbW9kYXRlIGl0Cj4gKwkJICovCj4gKwkJ
Y2ZnLT5pYXMtLTsKPiArCQlicmVhazsKPiArCWNhc2UgNDg6Cj4gKwkJLyoKPiArCQkgKiBJQVMg
b2YgNDggaXMgYSBzcGVjaWFsIGNhc2UsIGl0IGhhcyBhIGRlZGljYXRlZCBzaWduCj4gKwkJICog
ZXh0ZW5zaW9uIGJpdCBzbyB3ZSBjYW4gdXNlIHRoZSBmdWxsIElBUyBzaXplCj4gKwkJICovCj4g
KwkJYnJlYWs7Cj4gKwlkZWZhdWx0Ogo+ICsJCS8qIFRoZSBpYXMgZG9lc24ndCB3b3JrIGZvciB0
aGUgYXZhaWxhYmxlIFNFUCBvcHRpb25zICovCj4gKwkJcmV0dXJuIE5VTEw7Cj4gKwl9Cj4gKwo+
ICsJZGF0YSA9IF9hcm1fNjRfbHBhZV9hbGxvY19wZ3RhYmxlX3MxX2NvbW1vbihjZmcpOwo+ICsJ
aWYgKCFkYXRhKQo+ICsJCXJldHVybiBOVUxMOwo+ICsKPiArCXJlZyA9IChBUk1fTFBBRV9UQ1Jf
U0hfSVMgPDwgQVJNX0xQQUVfVENSX1NIMV9TSElGVCkgfAo+ICsJICAgICAgKEFSTV9MUEFFX1RD
Ul9SR05fV0JXQSA8PCBBUk1fTFBBRV9UQ1JfSVJHTjFfU0hJRlQpIHwKPiArCSAgICAgIChBUk1f
TFBBRV9UQ1JfUkdOX1dCV0EgPDwgQVJNX0xQQUVfVENSX09SR04xX1NISUZUKTsKPiArCj4gKwlz
d2l0Y2ggKEFSTV9MUEFFX0dSQU5VTEUoZGF0YSkpIHsKPiArCWNhc2UgU1pfNEs6Cj4gKwkJcmVn
IHw9IEFSTV9MUEFFX1RDUl9URzFfNEs7Cj4gKwkJYnJlYWs7Cj4gKwljYXNlIFNaXzE2SzoKPiAr
CQlyZWcgfD0gQVJNX0xQQUVfVENSX1RHMV8xNks7Cj4gKwkJYnJlYWs7Cj4gKwljYXNlIFNaXzY0
SzoKPiArCQlyZWcgfD0gQVJNX0xQQUVfVENSX1RHMV82NEs7Cj4gKwkJYnJlYWs7Cj4gKwl9Cj4g
Kwo+ICsJcmVnIHw9ICg2NFVMTCAtIGNmZy0+aWFzKSA8PCBBUk1fTFBBRV9UQ1JfVDFTWl9TSElG
VDsKPiArCj4gKwkvKiBTZXQgdGhlIHNpZ24gZXh0ZW5zaW9uIGJpdCAqLwo+ICsJc3dpdGNoIChj
ZmctPmlhcykgewo+ICsJY2FzZSAzMToKPiArCQlyZWcgfD0gQVJNX0xQQUVfVENSX1NFUF8zMTsK
PiArCQlicmVhazsKPiArCWNhc2UgMzU6Cj4gKwkJcmVnIHw9IEFSTV9MUEFFX1RDUl9TRVBfMzU7
Cj4gKwkJYnJlYWs7Cj4gKwljYXNlIDM5Ogo+ICsJCXJlZyB8PSBBUk1fTFBBRV9UQ1JfU0VQXzM5
Owo+ICsJCWJyZWFrOwo+ICsJY2FzZSA0MToKPiArCQlyZWcgfD0gQVJNX0xQQUVfVENSX1NFUF80
MTsKPiArCQlicmVhazsKPiArCWNhc2UgNDM6Cj4gKwkJcmVnIHw9IEFSTV9MUEFFX1RDUl9TRVBf
NDM7Cj4gKwkJYnJlYWs7Cj4gKwljYXNlIDQ4Ogo+ICsJCXJlZyB8PSBBUk1fTFBBRV9UQ1JfU0VQ
X1VQU1RSRUFNOwo+ICsJCWJyZWFrOwo+ICsJfQo+ICsKPiArCWNmZy0+YXJtX2xwYWVfczFfY2Zn
LnRjciB8PSByZWc7Cj4gKwo+ICsJLyogU2V0IHRoZSBhbGxvY2F0ZWQgcGdkIHRvIHR0YnIxIGFu
ZCBsZWF2ZSB0dGJyMCBlbXB0eSAqLwo+ICsJY2ZnLT5hcm1fbHBhZV9zMV9jZmcudHRiclswXSA9
IDA7Cj4gKwljZmctPmFybV9scGFlX3MxX2NmZy50dGJyWzFdID0gdmlydF90b19waHlzKGRhdGEt
PnBnZCk7Cj4gKwo+ICsJLyogU2V0IHVzZSBjYXNlIHNwZWNpZmljIHBndGFibGUgaGVscGVycyAq
Lwo+ICsJZGF0YS0+aW9wLm9wcyA9IChzdHJ1Y3QgaW9fcGd0YWJsZV9vcHMpIHsKPiArCQkubWFw
CQk9IGFybV9hZHJlbm9fZ3B1X2xwYWVfbWFwLAo+ICsJCS51bm1hcAkJPSBhcm1fYWRyZW5vX2dw
dV9scGFlX3VubWFwLAo+ICsJCS5pb3ZhX3RvX3BoeXMJPSBhcm1fYWRyZW5vX2dwdV9scGFlX2lv
dmFfdG9fcGh5cywKPiArCX07Cj4gKwo+ICsJcmV0dXJuICZkYXRhLT5pb3A7Cj4gK30KPiArCj4g
K3N0YXRpYyBzdHJ1Y3QgaW9fcGd0YWJsZSAqCj4gK2FybV82NF9scGFlX2FsbG9jX3BndGFibGVf
czEoc3RydWN0IGlvX3BndGFibGVfY2ZnICpjZmcsIHZvaWQgKmNvb2tpZSkKPiArewo+ICsJc3Ry
dWN0IGFybV9scGFlX2lvX3BndGFibGUgKmRhdGE7Cj4gKwo+ICsJZGF0YSA9IF9hcm1fNjRfbHBh
ZV9hbGxvY19wZ3RhYmxlX3MxX2NvbW1vbihjZmcpOwo+ICsJaWYgKCFkYXRhKQo+ICsJCXJldHVy
biBOVUxMOwo+ICsKPiArCS8qIERpc2FibGUgc3BlY3VsYXRpdmUgd2Fsa3MgdGhyb3VnaCBUVEJS
MSAqLwo+ICsJY2ZnLT5hcm1fbHBhZV9zMV9jZmcudGNyIHw9IEFSTV9MUEFFX1RDUl9FUEQxOwo+
ICsKPiArCS8qIFNldCB0aGUgcGdkIHRvIFRUQlIwICovCj4gKwljZmctPmFybV9scGFlX3MxX2Nm
Zy50dGJyWzBdID0gdmlydF90b19waHlzKGRhdGEtPnBnZCk7Cj4gKwljZmctPmFybV9scGFlX3Mx
X2NmZy50dGJyWzFdID0gMDsKPiArCj4gKwlkYXRhLT5pb3Aub3BzID0gKHN0cnVjdCBpb19wZ3Rh
YmxlX29wcykgewo+ICsJCS5tYXAJCT0gYXJtX2xwYWVfbWFwLAo+ICsJCS51bm1hcAkJPSBhcm1f
bHBhZV91bm1hcCwKPiArCQkuaW92YV90b19waHlzCT0gYXJtX2xwYWVfaW92YV90b19waHlzLAo+
ICsJfTsKPiArCj4gKwlyZXR1cm4gJmRhdGEtPmlvcDsKPiArfQo+ICsKPiAgc3RhdGljIHN0cnVj
dCBpb19wZ3RhYmxlICoKPiAgYXJtXzY0X2xwYWVfYWxsb2NfcGd0YWJsZV9zMihzdHJ1Y3QgaW9f
cGd0YWJsZV9jZmcgKmNmZywgdm9pZCAqY29va2llKQo+ICB7Cj4gQEAgLTg5NCw2ICsxMDY2LDEy
IEBAIGFybV82NF9scGFlX2FsbG9jX3BndGFibGVfczIoc3RydWN0IGlvX3BndGFibGVfY2ZnICpj
ZmcsIHZvaWQgKmNvb2tpZSkKPiAgCWlmICghZGF0YSkKPiAgCQlyZXR1cm4gTlVMTDsKPiAgCj4g
KwlkYXRhLT5pb3Aub3BzID0gKHN0cnVjdCBpb19wZ3RhYmxlX29wcykgewo+ICsJCS5tYXAJCT0g
YXJtX2xwYWVfbWFwLAo+ICsJCS51bm1hcAkJPSBhcm1fbHBhZV91bm1hcCwKPiArCQkuaW92YV90
b19waHlzCT0gYXJtX2xwYWVfaW92YV90b19waHlzLAo+ICsJfTsKPiArCj4gIAkvKgo+ICAJICog
Q29uY2F0ZW5hdGUgUEdEcyBhdCBsZXZlbCAxIGlmIHBvc3NpYmxlIGluIG9yZGVyIHRvIHJlZHVj
ZQo+ICAJICogdGhlIGRlcHRoIG9mIHRoZSBzdGFnZS0yIHdhbGsuCj4gQEAgLTEwNDEsNiArMTIx
OSwxMSBAQCBzdHJ1Y3QgaW9fcGd0YWJsZV9pbml0X2ZucyBpb19wZ3RhYmxlX2FybV82NF9scGFl
X3MxX2luaXRfZm5zID0gewo+ICAJLmZyZWUJPSBhcm1fbHBhZV9mcmVlX3BndGFibGUsCj4gIH07
Cj4gIAo+ICtzdHJ1Y3QgaW9fcGd0YWJsZV9pbml0X2ZucyBpb19wZ3RhYmxlX2FybV9hZHJlbm9f
Z3B1X2xwYWVfaW5pdF9mbnMgPSB7Cj4gKwkuYWxsb2MJPSBhcm1fYWRyZW5vX2dwdV9scGFlX2Fs
bG9jX3BndGFibGUsCj4gKwkuZnJlZQk9IGFybV9scGFlX2ZyZWVfcGd0YWJsZSwKPiArfTsKPiAr
Cj4gIHN0cnVjdCBpb19wZ3RhYmxlX2luaXRfZm5zIGlvX3BndGFibGVfYXJtXzY0X2xwYWVfczJf
aW5pdF9mbnMgPSB7Cj4gIAkuYWxsb2MJPSBhcm1fNjRfbHBhZV9hbGxvY19wZ3RhYmxlX3MyLAo+
ICAJLmZyZWUJPSBhcm1fbHBhZV9mcmVlX3BndGFibGUsCj4gQEAgLTExMTIsNiArMTI5NSw3IEBA
IHN0YXRpYyBpbnQgX19pbml0IGFybV9scGFlX3J1bl90ZXN0cyhzdHJ1Y3QgaW9fcGd0YWJsZV9j
ZmcgKmNmZykKPiAgCXN0YXRpYyBjb25zdCBlbnVtIGlvX3BndGFibGVfZm10IGZtdHNbXSA9IHsK
PiAgCQlBUk1fNjRfTFBBRV9TMSwKPiAgCQlBUk1fNjRfTFBBRV9TMiwKPiArCQlBUk1fNjRfTFBB
RV9UVEJSMV9TMSwKPiAgCX07Cj4gIAo+ICAJaW50IGksIGo7Cj4gZGlmZiAtLWdpdCBhL2RyaXZl
cnMvaW9tbXUvaW8tcGd0YWJsZS5jIGIvZHJpdmVycy9pb21tdS9pby1wZ3RhYmxlLmMKPiBpbmRl
eCBjZWQ1M2U1Li5lNDdlZDJkIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvaW9tbXUvaW8tcGd0YWJs
ZS5jCj4gKysrIGIvZHJpdmVycy9pb21tdS9pby1wZ3RhYmxlLmMKPiBAQCAtMjAsNiArMjAsNyBA
QCBpb19wZ3RhYmxlX2luaXRfdGFibGVbSU9fUEdUQUJMRV9OVU1fRk1UU10gPSB7Cj4gIAlbQVJN
XzY0X0xQQUVfUzFdID0gJmlvX3BndGFibGVfYXJtXzY0X2xwYWVfczFfaW5pdF9mbnMsCj4gIAlb
QVJNXzY0X0xQQUVfUzJdID0gJmlvX3BndGFibGVfYXJtXzY0X2xwYWVfczJfaW5pdF9mbnMsCj4g
IAlbQVJNX01BTElfTFBBRV0gPSAmaW9fcGd0YWJsZV9hcm1fbWFsaV9scGFlX2luaXRfZm5zLAo+
ICsJW0FSTV9BRFJFTk9fR1BVX0xQQUVdID0gJmlvX3BndGFibGVfYXJtX2FkcmVub19ncHVfbHBh
ZV9pbml0X2ZucywKPiAgI2VuZGlmCj4gICNpZmRlZiBDT05GSUdfSU9NTVVfSU9fUEdUQUJMRV9B
Uk1WN1MKPiAgCVtBUk1fVjdTXSA9ICZpb19wZ3RhYmxlX2FybV92N3NfaW5pdF9mbnMsCj4gZGlm
ZiAtLWdpdCBhL2luY2x1ZGUvbGludXgvaW8tcGd0YWJsZS5oIGIvaW5jbHVkZS9saW51eC9pby1w
Z3RhYmxlLmgKPiBpbmRleCBiNWE0NTBhLi40ODcxZTg1IDEwMDY0NAo+IC0tLSBhL2luY2x1ZGUv
bGludXgvaW8tcGd0YWJsZS5oCj4gKysrIGIvaW5jbHVkZS9saW51eC9pby1wZ3RhYmxlLmgKPiBA
QCAtMTMsNiArMTMsNyBAQCBlbnVtIGlvX3BndGFibGVfZm10IHsKPiAgCUFSTV82NF9MUEFFX1My
LAo+ICAJQVJNX1Y3UywKPiAgCUFSTV9NQUxJX0xQQUUsCj4gKwlBUk1fQURSRU5PX0dQVV9MUEFF
LAo+ICAJSU9fUEdUQUJMRV9OVU1fRk1UUywKPiAgfTsKPiAgCj4gQEAgLTIxMyw1ICsyMTQsNiBA
QCBleHRlcm4gc3RydWN0IGlvX3BndGFibGVfaW5pdF9mbnMgaW9fcGd0YWJsZV9hcm1fNjRfbHBh
ZV9zMV9pbml0X2ZuczsKPiAgZXh0ZXJuIHN0cnVjdCBpb19wZ3RhYmxlX2luaXRfZm5zIGlvX3Bn
dGFibGVfYXJtXzY0X2xwYWVfczJfaW5pdF9mbnM7Cj4gIGV4dGVybiBzdHJ1Y3QgaW9fcGd0YWJs
ZV9pbml0X2ZucyBpb19wZ3RhYmxlX2FybV92N3NfaW5pdF9mbnM7Cj4gIGV4dGVybiBzdHJ1Y3Qg
aW9fcGd0YWJsZV9pbml0X2ZucyBpb19wZ3RhYmxlX2FybV9tYWxpX2xwYWVfaW5pdF9mbnM7Cj4g
K2V4dGVybiBzdHJ1Y3QgaW9fcGd0YWJsZV9pbml0X2ZucyBpb19wZ3RhYmxlX2FybV9hZHJlbm9f
Z3B1X2xwYWVfaW5pdF9mbnM7Cj4gIAo+ICAjZW5kaWYgLyogX19JT19QR1RBQkxFX0ggKi8KPiAt
LSAKPiAyLjcuNAo+IAoKLS0gClRoZSBRdWFsY29tbSBJbm5vdmF0aW9uIENlbnRlciwgSW5jLiBp
cyBhIG1lbWJlciBvZiBDb2RlIEF1cm9yYSBGb3J1bSwKYSBMaW51eCBGb3VuZGF0aW9uIENvbGxh
Ym9yYXRpdmUgUHJvamVjdApfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fXwpGcmVlZHJlbm8gbWFpbGluZyBsaXN0CkZyZWVkcmVub0BsaXN0cy5mcmVlZGVza3Rv
cC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9mcmVl
ZHJlbm8=
